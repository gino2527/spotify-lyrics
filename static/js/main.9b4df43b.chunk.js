(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,a){t.exports=a(45)},21:function(t,e,a){},42:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},43:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(10),s=a.n(o),c=(a(21),a(11)),r=a(12),l=a(14),p=a(13),m=a(15),d=a(3),u=a.n(d),h=(a(42),a(43),function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(p.a)(e).call(this,t))).componentDidMount=function(){if(localStorage.getItem("accessToken"))setInterval(function(){u.a.get("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:"Bearer "+localStorage.getItem("accessToken")}}).then(function(t){var e=a.state,n=e.title,i=e.artist;n===t.data.item.name&&i===t.data.item.artists[0].name||a.setState({item:t.data.item,title:t.data.item.name,artist:t.data.item.artists[0].name,show:!1},function(){u.a.get("https://api.musixmatch.com/ws/1.1/matcher.lyrics.get",{params:{format:"json",callback:"jsonp",q_track:a.state.title,q_artist:a.state.artist,apikey:"81122af4e7182c602b1b83dda353e355"}}).then(function(t){a.setState({show:!0},function(){document.getElementById("lyrics").innerHTML=t.data.message.body.lyrics.lyrics_body.replace(/(?:\r\n|\r|\n)/g,"<br>")})})})}).catch(function(t){t.response&&401===t.response.status&&(window.localStorage.removeItem("accessToken"),!0===window.confirm("Token expired. Please reconnect with Spotify")&&(window.location.href="https://accounts.spotify.com/authorize?client_id=97f6ad504c9243aa8b8a22cd70e1b7c8&scope=user-read-currently-playing&redirect_uri=https://gino2527.github.io/spotify-lyrics/&response_type=token"))})},2500);else if(window.location.href.split("/#")[1]){var t=window.location.href.split("/#")[1].split("&")[0].split("=")[1];window.localStorage.setItem("accessToken",t),window.location.href="/"}else!0===window.confirm("Connect with Spotify")&&(window.location.href="https://accounts.spotify.com/authorize?client_id=97f6ad504c9243aa8b8a22cd70e1b7c8&scope=user-read-currently-playing&redirect_uri=https://gino2527.github.io/spotify-lyrics&response_type=token")},a.state={item:{},lyrics:""},a}return Object(m.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-lyrics"}).name),i.a.createElement("header",{className:"App-header"},this.state.show&&i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{style:{fontSize:"24px",margin:0,fontWeight:"bold"}},this.state.title),i.a.createElement("p",{style:{fontSize:"20px",margin:0}},this.state.artist),i.a.createElement("p",{id:"lyrics",style:{fontSize:"16px"}}))))}}]),e}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[16,2,1]]]);
//# sourceMappingURL=main.9b4df43b.chunk.js.map